<div [class.selection-control]="!list" bqKey>
  @if (field.questionText) {
    <p>{{field.questionText}}</p>
  }
  <div style="display: flex; box-sizing: border-box; flex-flow: wrap"
    [ngStyle]="{'flex-direction': direction === 'vertical' ? 'column': 'row'}">
    @for (option of field.getFieldOptions(); track option) {
      <mat-checkbox [value]="option.value" [checked]="isChecked(option)"
        [disabled]="formControl.disabled" (change)="onChange(option, $event)" color="primary">
        {{option.displayValue}}
      </mat-checkbox>
    }
  </div>

  @if (!list) {
    @if (!getMessages().hasMessages) {
      <mat-hint>{{field.explainText}}</mat-hint>
    }
    @if (getMessages().hasMessages) {
      <div>
        @for (msg of getMessages(); track msg) {
          <mat-error>{{ msg.text }}</mat-error>
        }
      </div>
    }
  }
</div>
