<div [bqContainer]="container" bqClasses bqKey>

  @if (shouldDisplayHeading()) {
    <bq-heading [styles]="container.styles" [title]="container.displayName"></bq-heading>
  }

  <!-- Container has presentation style 'horizontal', direct children should be rendered horizontally -->
  @if (isHorizontal) {
    <div class="bq-row">
      @for (child of container.children | bqIncluded; track child) {
        <ng-container
          [bqElement]="child"
        bqFlexChild></ng-container>
      }
    </div>
  }

  <!-- Default case, direct children will be rendered vertically, unless the bqFlexColumn directive changes this-->
  @if (!isHorizontal) {
    <div>
      @for (child of container.children | bqIncluded; track child) {
        <ng-container
          [bqElement]="child"
        bqFlexColumn></ng-container>
      }
    </div>
  }

</div>
